<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <title>QuizTaker</title>

    <!-- Bootstrap -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="container" style="max-width: 700px;">
      <div class="row">
          <div class="col-md-12">
            <ul class="nav nav-tabs">
              <li role="presentation" class="active"><a href="index.html">Admin</a></li>
              <li role="presentation"><a href="#">User</a></li>
            </ul>
          </div>
      </div>
      <div class="row">
          <div class="col-md-6">
                <h2>Time Left: </h2>
          </div>
          <div class="col-md-2">
                <h2 id = "hours"></h2>
          </div>
          <div class="col-md-2">
                <h2 id = "minutes"></h2>
          </div>
          <div class="col-md-2">
                <h2 id = "seconds"></h2>
          </div>
      </div>
      <div class="row" id = "solvable-questions">

      </div>
    </div>

    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS" crossorigin="anonymous"></script>
    <script src="js/bootbox.min.js"></script>

    <script>
        $(document).ready(function() {

            options = ["yes", "no"];
            question = "Are you human?";
            id = 1;

            addSolvableQuestion(id,question,options);

            options = ["yes", "no"];
            question = "Are you robot?";
            id = 2;

            addSolvableQuestion(id,question,options);

            var examTime = 1000;
            var count = 1000 * 60;
            var counter = setInterval(timer, 1000); //1000 will  run it every 1 second

            function timer()
            {
                count = count - 1;
                if (count == -1) {
                    clearInterval(counter);
                    //Exam Time is Done!
                    return;
                }

                var seconds = count % 60;
                var minutes = Math.floor(count / 60);
                var hours = Math.floor(minutes / 60);
                minutes %= 60;
                hours %= 60;
                $('#hours').html('H:');
                $('#hours').append(hours);
                $('#minutes').html('M:');
                $('#minutes').append(minutes);
                $('#seconds').html('S:');
                $('#seconds').append(seconds);

            }
        });
        isFirstAdded = true;
        function addSolvableQuestion(id, question, options)
        {
            var questionHTML="";
            if(isFirstAdded)
            {
                questionHTML += "<form class=\"form-horizontal\" id=\"question-"+id+"\">";
                isFirstAdded = false
            }
            else
            {
                questionHTML += "<form class=\"form-horizontal\" id=\"question-"+id+"\" style = 'display: none'>";
            }
            questionHTML += "<fieldset>";
            questionHTML += "<div class=\"form-group\">";
            questionHTML += "  <label class=\"col-md-4 control-label\" for=\"radios\">"+question+"<\/label>";
            questionHTML += '<div class="col-md-4">';

            for (i = 0; i < options.length; i++)
            {
                  questionHTML += '<div class="radio">';
                  questionHTML += '<label for="option-'+i+'">';
                  questionHTML += '<input type="radio" name="radios" id="option-'+i+'" value="option-'+i+'">';
                  questionHTML += options[i];
                  questionHTML += '</label>';
                  questionHTML += '</div>';
            }

            questionHTML += "  <\/div>";
            questionHTML += "<\/div>";
            questionHTML += "";
            questionHTML += '<button id = "next-button-'+id+'" type="button" onclick = "nextQuestion(this)" class="btn btn-primary" style="width: 100%">Save & Next Question</button>';
            questionHTML += '<button id = "end-button-'+id+'" type="button" onclick = "submitExam(this)" class="btn btn-success" style="width: 100%">Save & Exit</button>';
            questionHTML += "<\/fieldset>";
            questionHTML += "<\/form>";

            $('#solvable-questions').append(questionHTML);
        }
        function nextQuestion(button)
        {
            prep = button.id.split('-');
            questionID = '#' + 'question-' + prep[2];
            $(questionID).css('display','none');
            prepNextID = parseInt(prep[2]) + 1;
            nextQuestionID = '#' + 'question-' + prepNextID;
            $(nextQuestionID).css('display', 'block');
        }
        function submitExam(button)
        {
            //Code to submit and save the user progress

        }
</script>


  </body>
</html>
